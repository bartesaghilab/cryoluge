
[workspace]
name = "cryoluge"
description = "A library for high-performance analysis of data from Cryo-EM and Cryo-ET"
version = "0.1.0"
authors = ["jeff <jeff@cuchazinteractive.com>"]
platforms = ["linux-64"]
channels = [
    "https://conda.modular.com/max-nightly",
    "conda-forge"
]

[dependencies]
# TEMP: use nightly for now, since many things aren't working correctly in the 25.5 stable release
mojo = ">=25.6.0.dev2025090305,<26"
#mojo = "25.5.*"

[tasks]
build_dir = "rm -rf build 2> /dev/null; mkdir -p build"
build_pkg = { cmd = "mojo package -o build/cryoluge.mojopkg src/cryoluge", depends-on = ["build_dir"] }
test = { cmd = "mojo test -I build -D ASSERT=all test", depends-on = ["build_pkg"] }
# NOTE: `mojo test` doesn't seem to support `-flag=value` syntax, only `-flag value`
